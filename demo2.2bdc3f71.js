import{r as c,a as f,j as p,f as A}from"./vendor.90d19503.js";import{A as E,G as S,S as L,T as j,a as C}from"./index.84784de1.js";const F="https://timesky.oss-cn-hangzhou.aliyuncs.com/pixi/demo",U=a=>{const[h,m]=c.exports.useState(null),w=c.exports.useRef();c.exports.useEffect(()=>{window.document.title=a.meta.title,y()},[]);const y=()=>{const t=new E({width:1e3,height:500,antialias:!0,backgroundAlpha:!0,resolution:1,backgroundColor:11398874});m(t),h||w.current.appendChild(t.view),x(t)},x=t=>{let e=new S;e.lineStyle(4,15576749,1),e.beginFill(6737151),e.drawRect(0,0,64,64),e.endFill(),e.x=470,e.y=170,t.stage.addChild(e);const s=new L.from(`${F}/direction.png`);s.y=96,s.vx=0,s.vy=0,t.stage.addChild(s);let o=new j({fontFamily:"Arial",fontSize:36,fill:"white",stroke:"#ff3300",strokeThickness:4,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6}),i=new C("Hello Pixi!",o);t.stage.addChild(i),i.position.set(24,24);let r=n("ArrowLeft"),l=n("ArrowUp"),d=n("ArrowRight"),u=n("ArrowDown");r.press=()=>{s.vx=-5,s.vy=0},r.release=()=>{!d.isDown&&s.vy===0&&(s.vx=0)},l.press=()=>{s.vy=-5,s.vx=0},l.release=()=>{!u.isDown&&s.vx===0&&(s.vy=0)},d.press=()=>{s.vx=5,s.vy=0},d.release=()=>{!r.isDown&&s.vy===0&&(s.vx=0)},u.press=()=>{s.vy=5,s.vx=0},u.release=()=>{!l.isDown&&s.vx===0&&(s.vy=0)};let k=b;t.ticker.add(v=>D());function D(v){k()}function b(v){s.x+=s.vx,s.y+=s.vy}},n=t=>{let e={};e.value=t,e.isDown=!1,e.isUp=!0,e.press=void 0,e.release=void 0,e.downHandler=i=>{i.key===e.value&&(e.isUp&&e.press&&e.press(),e.isDown=!0,e.isUp=!1,i.preventDefault())},e.upHandler=i=>{i.key===e.value&&(e.isDown&&e.release&&e.release(),e.isDown=!1,e.isUp=!0,i.preventDefault())};const s=e.downHandler.bind(e),o=e.upHandler.bind(e);return window.addEventListener("keydown",s,!1),window.addEventListener("keyup",o,!1),e.unsubscribe=()=>{window.removeEventListener("keydown",s),window.removeEventListener("keyup",o)},e},g=()=>{a.history.push("/pixi-practice")};return f("div",{className:"demo-page",children:[f("div",{className:"demo-page-title",children:[a.meta.title," ",p(A,{className:"back-home",onClick:g,children:"\u8FD4\u56DE\u9996\u9875"})]}),p("div",{className:"demo-page-desc",children:"\u8BF7\u6309\u952E\u76D8\u4E0A\u4E0B\u5DE6\u53F3\u952E\u63A7\u5236"}),p("div",{className:"demo-canvas",ref:w})]})};export{U as default};
