import{r as c,a as w,j as p,f as A}from"./vendor.90d19503.js";import{A as S,G as C,S as E,T as L,a as j}from"./index.84784de1.js";const F="https://timesky.oss-cn-hangzhou.aliyuncs.com/pixi/demo",W=d=>{const[v,y]=c.exports.useState(null),u=c.exports.useRef();c.exports.useEffect(()=>{window.document.title=d.meta.title,x()},[]);const x=()=>{const i=new S({width:1e3,height:500,antialias:!0,backgroundAlpha:!0,resolution:1,backgroundColor:11398874});y(i),v||u.current.appendChild(i.view),m(i)},m=i=>{let e=new C;e.lineStyle(4,15576749,1),e.beginFill(6737151),e.drawRect(0,0,64,64),e.endFill(),e.x=470,e.y=170,i.stage.addChild(e);const t=new E.from(`${F}/direction.png`);t.y=96,t.vx=0,t.vy=0,i.stage.addChild(t);let a=new L({fontFamily:"Arial",fontSize:36,fill:"white",stroke:"#ff3300",strokeThickness:4,dropShadow:!0,dropShadowColor:"#000000",dropShadowBlur:4,dropShadowAngle:Math.PI/6,dropShadowDistance:6}),s=new j("Hello Pixi!",a);i.stage.addChild(s),s.position.set(24,24);let n=l("ArrowLeft"),o=l("ArrowUp"),r=l("ArrowRight"),h=l("ArrowDown");n.press=()=>{t.vx=-5,t.vy=0},n.release=()=>{!r.isDown&&t.vy===0&&(t.vx=0)},o.press=()=>{t.vy=-5,t.vx=0},o.release=()=>{!h.isDown&&t.vx===0&&(t.vy=0)},r.press=()=>{t.vx=5,t.vy=0},r.release=()=>{!n.isDown&&t.vy===0&&(t.vx=0)},h.press=()=>{t.vy=5,t.vx=0},h.release=()=>{!o.isDown&&t.vx===0&&(t.vy=0)};let D=H;i.ticker.add(f=>b());function b(f){D()}function H(f){t.x+=t.vx,t.y+=t.vy,g(t,e)?(s.text="\u78B0\u649E\u4E2D\u{1F4A5}",e.tint=16724736):(s.text="\u6CA1\u78B0\u5230",e.tint=13434777)}},l=i=>{let e={};e.value=i,e.isDown=!1,e.isUp=!0,e.press=void 0,e.release=void 0,e.downHandler=s=>{s.key===e.value&&(e.isUp&&e.press&&e.press(),e.isDown=!0,e.isUp=!1,s.preventDefault())},e.upHandler=s=>{s.key===e.value&&(e.isDown&&e.release&&e.release(),e.isDown=!1,e.isUp=!0,s.preventDefault())};const t=e.downHandler.bind(e),a=e.upHandler.bind(e);return window.addEventListener("keydown",t,!1),window.addEventListener("keyup",a,!1),e.unsubscribe=()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",a)},e},g=(i,e)=>{let t,a,s,n,o;return t=!1,i.centerX=i.x+i.width/2,i.centerY=i.y+i.height/2,e.centerX=e.x+e.width/2,e.centerY=e.y+e.height/2,i.halfWidth=i.width/2,i.halfHeight=i.height/2,e.halfWidth=e.width/2,e.halfHeight=e.height/2,n=i.centerX-e.centerX,o=i.centerY-e.centerY,a=i.halfWidth+e.halfWidth,s=i.halfHeight+e.halfHeight,Math.abs(n)<a&&Math.abs(o)<s?t=!0:t=!1,t},k=()=>{d.history.push("/pixi-practice")};return w("div",{className:"demo-page",children:[w("div",{className:"demo-page-title",children:[d.meta.title," ",p(A,{className:"back-home",onClick:k,children:"\u8FD4\u56DE\u9996\u9875"})]}),p("div",{className:"demo-canvas",ref:u})]})};export{W as default};
